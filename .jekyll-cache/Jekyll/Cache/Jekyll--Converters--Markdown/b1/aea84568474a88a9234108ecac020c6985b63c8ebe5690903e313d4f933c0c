I"ﬁ&<h2 id="configura√ß√£o-do-servidor-jboss-wildfly-10-production">Configura√ß√£o do Servidor JBoss Wildfly 10 (Production)</h2>

<h3 id="tldr">TL;DR</h3>

<p>O Jboss Wildfly √© um web-container para aplica√ß√µes em java mantida pela Red Hat. O Wildfly √© um dos mais famosos web-containers java do mercado, sendo uma boa alternativa ao Oracle Glassfish. O WildFly, anteriormente conhecido como JBoss AS, ou simplesmente JBoss, √© um servidor de aplicativos criado pelo JBoss, agora desenvolvido pela Red Hat. O WildFly √© escrito em Java e implementa a especifica√ß√£o Java Platform Enterprise Edition (Java EE). Ele √© executado em v√°rias plataformas. WildFly √© um software livre e de c√≥digo aberto, sujeito aos requisitos da licen√ßa LGPL, vers√£o 2.1. Em 20 de novembro de 2014, o JBoss Application Server foi renomeado como WildFly. A comunidade JBoss e outros produtos JBoss da Red Hat, como o JBoss Enterprise Application Platform, n√£o foram renomeados. Para mais informa√ß√µes acessem o site <a href="http://wildfly.org/">http://wildfly.org/</a>.</p>

<h4 id="lets-get-started">Let‚Äôs get started</h4>

<p>Neste tutorial voc√™ aprender√° a configurar o servidor Jboss Wildfly 10.x para produ√ß√£o.
Chega de conversa vamos iniciar o tutorial.</p>

<p style="text-align: center;">
  <img src="/assets/images/typing-fast.gif" style="width: 50%;" />
</p>

<h4 id="configura√ß√µes-iniciais-do-servidor">Configura√ß√µes Iniciais do Servidor</h4>

<p>Instale o Java (Caso j√° tenha, desconsidere esta etapa):</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo </span>add-apt-repository <span class="nt">-y</span> ppa:webupd8team/java <span class="se">\</span>
<span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get update <span class="se">\</span>
<span class="o">&amp;&amp;</span> <span class="nb">sudo echo </span>oracle-java8-installer shared/accepted-oracle-license-v1-1 <span class="k">select </span><span class="nb">true</span> | <span class="nb">sudo</span> /usr/bin/debconf-set-selections <span class="se">\</span>
<span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>oracle-java8-installer <span class="nt">-y</span></code></pre></figure>

<p>Fa√ßa o download do servidor Wildfly:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">cd</span> /opt
~<span class="nv">$ </span><span class="nb">sudo </span>wget http://download.jboss.org/wildfly/10.0.0.Final/wildfly-10.0.0.Final.zip
~<span class="nv">$ </span><span class="nb">sudo </span>unzip wildfly-10.0.0.Final.zip
~<span class="nv">$ </span><span class="nb">sudo rm</span> <span class="nt">-r</span> wildfly-10.0.0.Final.zip
~<span class="nv">$ </span><span class="nb">sudo mv </span>wildfly-10.0.0.Final/ wildfly/</code></pre></figure>

<h4 id="configura√ß√£o-do-servidor-wildfly-10x">Configura√ß√£o do Servidor Wildfly 10.x</h4>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo </span>addgroup wildfly
~<span class="nv">$ </span><span class="nb">sudo </span>useradd <span class="nt">-g</span> wildfly wildfly</code></pre></figure>

<p>Mude o dono da pasta do Wildfly recursivamente:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo chown</span> <span class="nt">-R</span> wildfly:wildfly /opt/wildfly/</code></pre></figure>

<p>Crie um link simb√≥lico para o Wildfly:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> wildfly /opt/wildfly</code></pre></figure>

<p>Configure o init.d/ para o Wildfly:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo cp</span> /opt/wildfly/docs/contrib/scripts/init.d/wildfly-init-debian.sh /etc/init.d/wildfly
~<span class="nv">$ </span><span class="nb">sudo chown </span>root:root /etc/init.d/wildfly
~<span class="nv">$ </span><span class="nb">sudo chmod </span>ug+x /etc/init.d/wildfly</code></pre></figure>

<p>Para dar start e stop no Wildfly pela primeira vez:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo</span> /etc/init.d/wildfly start
~<span class="nv">$ </span><span class="nb">sudo</span> /etc/init.d/wildfly stop</code></pre></figure>

<p>Atualize o Wildfly como servi√ßo:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo </span>update-rc.d wildfly defaults</code></pre></figure>

<h4 id="configurando-acesso-externo-ao-servidor">Configurando acesso externo ao servidor</h4>

<p>Acesse o diret√≥rio:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">cd</span> /opt/wildfly/standalone/configuration/</code></pre></figure>

<p>Edite o arquivo de configura√ß√£o:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo </span>nano standalone.xml</code></pre></figure>

<p>Substitua as seguintes configura√ß√µes:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;interface</span> <span class="na">name=</span><span class="s">"public"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;inet-address</span> <span class="na">value=</span><span class="s">"${jboss.bind.address:127.0.0.1}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/interface&gt;</span></code></pre></figure>

<p>por:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;interface</span> <span class="na">name=</span><span class="s">"public"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;any-address/&gt;</span>
<span class="nt">&lt;/interface&gt;</span></code></pre></figure>

<p>E a configura√ß√£o de acesso ao painel de configura√ß√µes do Wildfly:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;interface</span> <span class="na">name=</span><span class="s">"management"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;inet-address</span> <span class="na">value=</span><span class="s">"${jboss.bind.address:127.0.0.1}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/interface&gt;</span></code></pre></figure>

<p>por</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;interface</span> <span class="na">name=</span><span class="s">"management"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;any-address/&gt;</span>
<span class="nt">&lt;/interface&gt;</span></code></pre></figure>

<h4 id="configurando-usu√°rio-administrador">Configurando usu√°rio administrador</h4>

<p>Primeiramente finalize o processo do Wildfly:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo </span>service wildfly stop</code></pre></figure>

<p>Acesse o diret√≥rio:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">cd</span> /opt/wildfly/bin</code></pre></figure>

<p>Execute o script para adicionar um novo usu√°rio:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo</span> ./add-user.sh</code></pre></figure>

<p>Fa√ßa as seguintes instru√ß√µes:</p>

<ol>
  <li>Digite (a) para Management User
Digite (admin) para Username</li>
  <li>Are you sure you want to add user ‚Äòadmin‚Äô yes/no? (yes)</li>
  <li>Digite uma senha para password</li>
  <li>Confirme a senha</li>
  <li>What groups do you want this user to belong to? (enter)</li>
  <li>Is this correct yes/no? (2x yes)</li>
  <li>Digita yes e enter para todas as perguntas</li>
</ol>

<p>Inicie o Wildfly novamente:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">~<span class="nv">$ </span><span class="nb">sudo </span>service wildfly start</code></pre></figure>

<p>Acesse o IP da m√°quina :8080 para conferir o acesso ao painel de configura√ß√£o do Wildfly:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">http://localhost:9990 ou http://IP_EXTERNO:9990</code></pre></figure>

<h4 id="considera√ß√µes-finais">Considera√ß√µes Finais</h4>

<p>Chegamos ao final do tutorial, caso tenha acontecido algum problema favor reportar nos coment√°rios. Caso tudo tenha dado certo chegou a hora de ‚Äúcodar‚Äù e colocar suas aplica√ß√µes em produ√ß√£o no Wildfly. Happy Code :)</p>

<p style="text-align: center;">
  <img src="/assets/images/coding.gif" style="width: 50%;" />
</p>

<h4 id="disclaimer">Disclaimer</h4>

<p>√â permitido livremente a reprodu√ß√£o integral desse material desde que sejam feitas as devidas refer√™ncias ao autor ;)</p>

<h4 id="refer√™ncias">Refer√™ncias</h4>

<p>[1] Jboss Wildfly. <strong><em>Wildfly</em></strong>. Acessado em Junho de 2016. Dispon√≠vel em: <a href="http://wildfly.org/">http://wildfly.org/</a></p>

<p>[2] Jboss Wildfly Wikipedia. <strong><em>JBoss Wildlfy Wiki</em></strong>. Acessado em Fevereiro de 2017. Dispon√≠vel em:  <a href="https://en.wikipedia.org/wiki/WildFly">https://en.wikipedia.org/wiki/WildFly</a></p>

<p>[3] ForgeZilla Let‚Äôs Forge it!. <strong><em>Installing Wildfly 10 on Debian/Ubuntu</em></strong>. Acessado em Junho de 2016. Dispon√≠vel em: <a href="http://forgezilla.com/installing-wildfly-10-on-debianubuntu/">http://forgezilla.com/installing-wildfly-10-on-debianubuntu/</a></p>
:ET